# Java_FTP_Server
实现了基本的user ,pass ,list ,port ,quit , retr ,cwd ,stor，rmd, mkd等命令
对应的功能是：下载，上传，获取服务器目录，切换目录，断点续传，断点下载，新建文件夹，删除文件夹等
用于测试的ftp客户端：windows自带的ftp客户端

这个项目主要用来练习scoket进行网络编程。其中的断点下载和断点上传并没有真正符合FTP协议的标准因此用
win10自带的FTP服务器无法对这两个命令进行测试

给出我实现断点下载和上传的思路：
下载：  
1、向服务器发送“REST + 本地文件长度”命令，告诉服务器，客户端要断点下载了。这时服务器还不知道客户端要下载哪个文件； 
2、向服务器发送“RETR + 文件名”命令，通知服务器要下载的文件名，这时服务器开始定位文件指针读文件并发送数据。 
3、客户端定位本地文件指针（文件末尾）； 
4、两端的准备工作都做完了以后，客户端创建socket，以被动或非被动方式建立数据通道，循环调用recv接收数据并追加入本地文件； 
 
上传： 
1、获取服务器上和本地要上传文件的同名文件大小； 
2、向服务器发送“APPE ＋ 文件名”，通知服务器，接下来从数据通道发送给你的数据要附加到这个文件末尾。 
3、定位本地文件指针（和FTP上文件大小相同的位置） 
4、从文件指针处读数据并发送。 

ps：断点下载和上传都应该检查文件的时间的才能确定文件有没有被更改过，我的代码里并没有进行时间判断。

模块介绍
ftpServer:是服务器的主程序，入口，同时负责监听本地的21号端口。
ControllerThread.java：用于处理控制连接的线程（每一个控制连接请求对应一个线程）
Share：一些全局性数据的维护。
Command:是命令接口，定义了一个所有命令都要实现的方法。
CommandFactory:命令工厂，通过传人的参数，决定生成的命令对象。
UserCommand,PortCommand等：是具体ftp命令的实现

ps：UserManagement包下的两个类是老师作业要求可以进行用户管理，强行加进去的代码。对FTP服务器并没有影响。

